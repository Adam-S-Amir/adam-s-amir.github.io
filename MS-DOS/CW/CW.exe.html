<html lang="en-us">
<script type="text/javascript">
    document.addEventListener('contextmenu', function(e) {
        e.preventDefault();
    });
    document.onkeydown = function(e) {
        if (event.keyCode == 123) {
            return false;
        }
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) {
            return false;
        }
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'C'.charCodeAt(0)) {
            return false;
        }
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) {
            return false;
        }
        if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) {
            return false;
        }
    }
</script>

<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Castle Wolfenstien</title>
    <style type="text/css">
        .dosbox-container {
            width: 640px;
            height: 400px;
        }
        
        .dosbox-container>.dosbox-overlay {
            background: url();
        }
    </style>
</head>

<body>
    <script type="text/javascript">
        function showhide() {
            if (document.getElementById("dosbox").style.display == 'none') {
                document.getElementById("dosbox").style.display = 'block';
            } else {
                document.getElementById("dosbox").style.display = 'none';
            }
        }
    </script>

    <center>
        <div id="dosbox"></div>
    </center>

    <br/>
    <center><button onclick="dosbox.requestFullScreen();">Make fullscreen</button></center>


    <script src="../assets/js/index.js"></script>
    <script type="text/javascript">
        var dosbox = new Dosbox({
            id: "dosbox",
            onload: function(dosbox) {
                dosbox.run("roms/CW.zip", "./CW.EXE", {
                    saveFiles: retrieveSaveFiles()
                });
            }
        });

        window.onunload = function() {
            storeSaveFiles();
        }

        function retrieveSaveFiles() {
            var text = localStorage.getItem("files");
            if (text) {
                var files = JSON.parse(text);
                files.forEach(function(file) {
                    file.data = Uint8Array.from(file.data);
                })
                return files;
            }
        }

        function storeSaveFiles() {
            var files = dosbox.getSaveFiles("SAVE*");
            files.forEach(function(file) {
                file.data = Array.from(file.data);
            })
            localStorage.setItem("files", JSON.stringify(files));
        }
    </script>
    <center>Press Enter to start, use the arrow keys to move, ctrl to shoot, space to interact.</center>

    <p><b><font color='red'>This Game runs suuper fast here is a quick solution:</p></b>
        <p<b> When you get to the title screen press ctrl and F11 keys 13 times</p>
    </b>
    <center>
        <p><b>Controls:</p></b></font>
            <p><b>Movement:</p></b>
                <p>[Q][W][E]</P>
                <P>[A][S][D]</P>
                <P>[Z][X][C]</P>
                <P>
                    <B>Actions:</p></b>
                    <P>[I][O][P]</P>
                    <P>[K][L][;]</P>
                    <P>[,][.][/]</P>
    </center>

</body>

</html>