<!DOCTYPE html>
<html>

<head>
  <title>Quake II</title>
  <style>
    ::-webkit-scrollbar {
      width: 0;
      background: transparent;
    }

    body {
      background-color: #000;
      color: #ddd;
      border: 0;
      margin: 0;
      padding: 0;
    }

    #splash {
      margin: 20px;
      color: #ddd;
    }

    #playn-root {
      margin-left: auto;
      margin-right: auto;
      width: 800px;
      height: 600px;
      visibility: hidden
    }
    #log{
      color: #06de88;
    }
  </style>
</head>

<body>
  <div id="splash">
    <tt>Welcome to the home of the worlds first <b>FULL VERSION</b> of Quake II running on the web!
      <br>
      <br>
      <hr>
      <b><u>DO NOT CLOSE OR REFRESH THE PAGE UNTIL YOU CAN ACTUALLY PLAY THE DAMN GAME!<br>BE.PATIENT. IF THE TEXT IS JUST SITTING THERE, LEAVE THE PAGE ALONE!<br>YOU CAN LEAVE THE PAGE, BUT DON'T CLOSE IT!</u></b>
      <hr>
      <br>
      This, unlike every other port, runs the PC files, and isn't an emulation of Quake II for the N64.
      <br>
      This currently works only in Google Chrome, which is the only browser with support for the
      FileSystem API.
      <br>
      This project was first started <a style="color:#ddd" href="https://github.com/stefanhaustein/quake2-playn-port"><b>Here</b></a>, then Magnus fixed it <a style="color:#ddd" href="https://github.com/MagnusMarx/Quake2-PlayN-MagnusPort"><b>Here</b></a>, ever since, Magnus wasn't able to figure ->
      <br>
      out how to make a full port, until <em>one morning, on 12/21/2022 @ 12pm</em> Magnus had an itch.
      <br>
      He dug deeper and deeper into this seemingly endless rabbit hole, and thus the birth of the PlayN-Quake-II-Magnus-Port.
      <br><br>We'd <em>love</em> to use IndexedDb and support FireFox, but we need
      <a style="color:#ddd" href="http://lists.w3.org/Archives/Public/public-webapps/2013JulSep/0081.html">URL access to the stored data</a> (<a style="color:#ddd" href="https://plus.google.com/103079366341809665805/posts/MeN6DUY9vqL">explanation</a>).
      <br>
      So we'll add support when the corresponding proposal is implemented.
      <br>
      <br>

      <br></tt>
    <div id="download_dialog" style="display:none">
      <tt>
        Play Quake II:<br>
      </tt>
      <input type="hidden" id="source_url" size="100" value="./Quake2.exe">
      <input id="download_button" type="button" value="Start" onclick="this.disabled=true; downloadAndUnpack()">
      <br>
    </div>
    <pre id="log">
</pre>
    <div id="log-bottom"></div>
  </div>
  <div id='playn-root'></div>
  <script src="./lib/idb.filesystem.js"></script>
  <script src="./lib/zip.js"></script>
  <script src="./lib/zip-ext.js"></script>
  <script src="./lib/inflate.js"></script>
  <script src="./download.js"></script>
  <script src="./PlayNQuake/PlayNQuake.nocache.js"></script>
</body>

</html>

<script type="text/javascript">
  document.addEventListener('contextmenu', function (e) {
    e.preventDefault();
  });
  document.onkeydown = function (e) {
    if (event.keyCode == 123) {
      return false;
    }
    if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) {
      return false;
    }
    if (e.ctrlKey && e.shiftKey && e.keyCode == 'C'.charCodeAt(0)) {
      return false;
    }
    if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) {
      return false;
    }
    if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) {
      return false;
    }
  }
</script>